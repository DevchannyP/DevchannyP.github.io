---
layout: post
title: "CHAP 2-9. ë°ì´í„° ìˆ˜ì •/ì‚­ì œ êµ¬í˜„"
date: 2025-05-17
categories: [backend, language, jsp]
tags: [backend, language, jsp]
thumbnail: /assets/img/post-thumbnails/intro15.png
author: Devchanny
---


# ** ğŸ“Œë°ì´í„° ìˆ˜ì •/ì‚­ì œ êµ¬í˜„ **

> ê²Œì‹œê¸€ì„ ìˆ˜ì •í•˜ê±°ë‚˜ ì‚­ì œí•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ì „ì²´ íë¦„
> 
> 
> íŒŒë¼ë¯¸í„° ì „ë‹¬ â†’ ìˆ˜ì • í¼ â†’ DAO ì²˜ë¦¬ â†’ ë¦¬ìŠ¤íŠ¸ ê°±ì‹ ê¹Œì§€ ì™„ì „ ì •ë¦¬
> 

---

## ğŸ§© ëª©ì°¨

1. ê¸°ëŠ¥ ê°œìš” (ìˆ˜ì • & ì‚­ì œ)
2. ì „ì²´ íë¦„ë„ (íŒŒë¼ë¯¸í„° â†’ ì¡°íšŒ â†’ ìˆ˜ì •/ì‚­ì œ ì²˜ë¦¬)
3. ë‹¨ê³„ë³„ ì—­í•  ì •ë¦¬
4. ìˆ˜ì • ê¸°ëŠ¥ ì‹¤ì „ ì˜ˆì œ
5. ì‚­ì œ ê¸°ëŠ¥ ì‹¤ì „ ì˜ˆì œ
6. URL íŒŒë¼ë¯¸í„° í™œìš© í¬ì¸íŠ¸
7. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½
8. ë§ˆë¬´ë¦¬ ìš”ì•½ + Notion ì‘ì„± íŒ

---

## âœ… 1. ê¸°ëŠ¥ ê°œìš”

| ê¸°ëŠ¥ | ì„¤ëª… |
| --- | --- |
| âœï¸ **ìˆ˜ì •** | ê¸°ì¡´ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì™€ ìˆ˜ì • í¼ì— ì¶œë ¥ í›„ ë³€ê²½ëœ ë‚´ìš© ì €ì¥ |
| âŒ **ì‚­ì œ** | ì„ íƒí•œ ë°ì´í„°ë¥¼ DBì—ì„œ ì‚­ì œí•˜ê³  ëª©ë¡ìœ¼ë¡œ ì´ë™ |

---

## âœ… 2. ì „ì²´ íë¦„ë„

### âœï¸ ìˆ˜ì • íë¦„

```
[list.jsp] ìˆ˜ì • ë²„íŠ¼ í´ë¦­ â†’ /edit?id=3
 â¬‡
[EditServlet] â†’ DAO.selectById(id)
 â¬‡
[edit.jsp] ê¸°ì¡´ ê°’ ì¶œë ¥
 â¬‡
[UpdateServlet] â†’ DAO.update(dto)
 â¬‡
[list.jsp] ëª©ë¡ìœ¼ë¡œ ë¦¬ë””ë ‰ì…˜
```

### âŒ ì‚­ì œ íë¦„

```
[list.jsp] ì‚­ì œ ë²„íŠ¼ í´ë¦­ â†’ /delete?id=3
 â¬‡
[DeleteServlet] â†’ DAO.delete(id)
 â¬‡
[list.jsp] ëª©ë¡ ë¦¬ë””ë ‰ì…˜
```

---

## âœ… 3. ë‹¨ê³„ë³„ ì—­í•  ì •ë¦¬

| ë‹¨ê³„ | íŒŒì¼ | ì„¤ëª… |
| --- | --- | --- |
| 1 | `list.jsp` | ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ì— ID í¬í•¨ëœ ë§í¬ ì œê³µ |
| 2 | `EditServlet.java` | í•´ë‹¹ ID ë°ì´í„° ì¡°íšŒ í›„ edit.jspë¡œ ì „ë‹¬ |
| 3 | `edit.jsp` | ê¸°ì¡´ ë°ì´í„°ë¥¼ ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í¼ ì œê³µ |
| 4 | `UpdateServlet.java` | ìˆ˜ì •ëœ ê°’ â†’ DAO.update()ë¡œ DB ê°±ì‹  |
| 5 | `DeleteServlet.java` | íŒŒë¼ë¯¸í„°ë¡œ ë°›ì€ ID ì‚­ì œ ì²˜ë¦¬ |

---

## âœ… 4. ìˆ˜ì • ê¸°ëŠ¥ ì‹¤ì „ ì˜ˆì œ

---

### ğŸ“„ [1] list.jsp â€“ ìˆ˜ì • ë§í¬ ì¶”ê°€

```
<a href="edit?id=<%= dto.getId() %>">ìˆ˜ì •</a>
```

---

### ğŸ“„ [2] EditServlet.java

```java
@WebServlet("/edit")
public class EditServlet extends HttpServlet {
  protected void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

    int id = Integer.parseInt(request.getParameter("id"));

    BoardDAO dao = new BoardDAO();
    BoardDTO dto = dao.selectById(id);

    request.setAttribute("dto", dto);
    RequestDispatcher rd = request.getRequestDispatcher("edit.jsp");
    rd.forward(request, response);
  }
}
```

---

### ğŸ“„ [3] BoardDAO.java â€“ selectById()

```java
public BoardDTO selectById(int id) {
  BoardDTO dto = new BoardDTO();
  try {
    Connection conn = DB.getConnection();
    String sql = "SELECT * FROM board WHERE id=?";
    PreparedStatement ps = conn.prepareStatement(sql);
    ps.setInt(1, id);
    ResultSet rs = ps.executeQuery();

    if(rs.next()) {
      dto.setId(rs.getInt("id"));
      dto.setTitle(rs.getString("title"));
      dto.setContent(rs.getString("content"));
    }

    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }

  return dto;
}
```

---

### ğŸ“„ [4] edit.jsp

```
<form action="update" method="post">
  <input type="hidden" name="id" value="<%= dto.getId() %>" />
  ì œëª©: <input type="text" name="title" value="<%= dto.getTitle() %>" /><br>
  ë‚´ìš©: <textarea name="content"><%= dto.getContent() %></textarea><br>
  <input type="submit" value="ìˆ˜ì • ì™„ë£Œ" />
</form>
```

---

### ğŸ“„ [5] UpdateServlet.java

```java
@WebServlet("/update")
public class UpdateServlet extends HttpServlet {
  protected void doPost(HttpServletRequest req, HttpServletResponse resp)
      throws ServletException, IOException {

    req.setCharacterEncoding("UTF-8");

    int id = Integer.parseInt(req.getParameter("id"));
    String title = req.getParameter("title");
    String content = req.getParameter("content");

    BoardDTO dto = new BoardDTO();
    dto.setId(id);
    dto.setTitle(title);
    dto.setContent(content);

    BoardDAO dao = new BoardDAO();
    dao.update(dto);

    resp.sendRedirect("list");
  }
}
```

---

### ğŸ“„ BoardDAO.java â€“ update()

```java
public void update(BoardDTO dto) {
  try {
    Connection conn = DB.getConnection();
    String sql = "UPDATE board SET title=?, content=? WHERE id=?";
    PreparedStatement ps = conn.prepareStatement(sql);
    ps.setString(1, dto.getTitle());
    ps.setString(2, dto.getContent());
    ps.setInt(3, dto.getId());
    ps.executeUpdate();
    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }
}
```

---

## âœ… 5. ì‚­ì œ ê¸°ëŠ¥ ì‹¤ì „ ì˜ˆì œ

---

### ğŸ“„ [1] list.jsp â€“ ì‚­ì œ ë§í¬ ì¶”ê°€

```
<a href="delete?id=<%= dto.getId() %>"
   onclick="return confirm('ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')">ì‚­ì œ</a>
```

---

### ğŸ“„ [2] DeleteServlet.java

```java
@WebServlet("/delete")
public class DeleteServlet extends HttpServlet {
  protected void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

    int id = Integer.parseInt(request.getParameter("id"));
    BoardDAO dao = new BoardDAO();
    dao.delete(id);

    response.sendRedirect("list");
  }
}
```

---

### ğŸ“„ BoardDAO.java â€“ delete()

```java
public void delete(int id) {
  try {
    Connection conn = DB.getConnection();
    String sql = "DELETE FROM board WHERE id=?";
    PreparedStatement ps = conn.prepareStatement(sql);
    ps.setInt(1, id);
    ps.executeUpdate();
    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }
}
```

---

## âœ… 6. URL íŒŒë¼ë¯¸í„° í™œìš© í¬ì¸íŠ¸

| ê°œë… | ì„¤ëª… |
| --- | --- |
| `?id=3` | URL íŒŒë¼ë¯¸í„° ë°©ì‹ìœ¼ë¡œ ë°ì´í„° ì „ë‹¬ |
| `request.getParameter("id")` | Servletì—ì„œ ê°’ì„ ë°›ëŠ” ë°©ë²• |
| `parseInt()` | ë¬¸ìì—´ì„ ì •ìˆ˜í˜•ìœ¼ë¡œ ë³€í™˜í•˜ì—¬ SQLì— ì‚¬ìš© |

---

## âœ… 7. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½ ğŸ’¬

| ì§ˆë¬¸ | ìš”ì  ì •ë¦¬ |
| --- | --- |
| ë°ì´í„° ìˆ˜ì • íë¦„ì€? | ìˆ˜ì • ë²„íŠ¼ í´ë¦­ â†’ ê¸°ì¡´ê°’ ì¶œë ¥ â†’ ìˆ˜ì • í›„ DB ê°±ì‹  |
| URL íŒŒë¼ë¯¸í„°ë¡œ ë°ì´í„° ì „ë‹¬ ë°©ë²•ì€? | `?id=3`, `request.getParameter("id")` ì‚¬ìš© |
| DAO update()ì™€ insert() ì°¨ì´ëŠ”? | updateëŠ” ê¸°ì¡´ ë°ì´í„° ìˆ˜ì •, insertëŠ” ìƒˆ ë°ì´í„° ì¶”ê°€ |
| ì‚­ì œ êµ¬í˜„ ë°©ì‹ì€? | idë§Œ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬ë°›ì•„ `DELETE` ì‹¤í–‰ |

---

## âœ… 8. ë§ˆë¬´ë¦¬ ìš”ì•½ ğŸ§ 

- âœï¸ **ìˆ˜ì •**ì€ ê¸°ì¡´ ê°’ì„ ê°€ì ¸ì™€ ìˆ˜ì • í¼ì— ì¶œë ¥í•œ í›„ update ì²˜ë¦¬
- âŒ **ì‚­ì œ**ëŠ” idë§Œ ì „ë‹¬ë°›ì•„ DAOì—ì„œ `DELETE` ì‹¤í–‰
- ğŸ”— URL íŒŒë¼ë¯¸í„°ëŠ” key=value í˜•íƒœ (`?id=3`)
- âœ… Servlet â†’ DAO í˜¸ì¶œ â†’ JSP í™”ë©´ìœ¼ë¡œ íë¦„ì´ êµ¬ì„±ë¨ (MVC êµ¬ì¡° ê·¸ëŒ€ë¡œ)
