---
layout: post
title: "CHAP 2-11. ë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„"
date: 2025-05-17
categories: [backend, language, jsp]
tags: [backend, language, jsp]
thumbnail: /assets/img/post-thumbnails/intro17.png
author: Devchanny
---


# ** ğŸ“Œë¡œê·¸ì¸ ì‹œìŠ¤í…œ êµ¬í˜„** 

> ì‚¬ìš©ìê°€ ë¡œê·¸ì¸í•˜ë©´ ì„¸ì…˜ì— ID ì €ì¥ â†’ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€
> 
> 
> ë¡œê·¸ì¸ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬ + ì„¸ì…˜ ì €ì¥/í•´ì œ íë¦„ ì™„ì „ ì •ë¦¬
> 

---

## ğŸ§© ëª©ì°¨

1. ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ê°œìš”
2. ì „ì²´ íë¦„ë„
3. ë‹¨ê³„ë³„ íŒŒì¼ ì—­í•  ì •ë¦¬
4. ì „ì²´ ì˜ˆì œ ì½”ë“œ
5. ë¡œê·¸ì¸ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬
6. ì„¸ì…˜ ì €ì¥/ìœ ì§€/ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬
7. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½
8. ë§ˆë¬´ë¦¬ ìš”ì•½ + Notion ì‘ì„± íŒ

---

## âœ… 1. ë¡œê·¸ì¸ ì‹œìŠ¤í…œ ê°œìš”

| í•­ëª© | ì„¤ëª… |
| --- | --- |
| ëª©ì  | íšŒì› ì¸ì¦ í›„ ì„¸ì…˜ì„ í†µí•´ ë¡œê·¸ì¸ ìƒíƒœ ìœ ì§€ |
| ë°©ì‹ | í¼ ì…ë ¥ê°’ â†’ DB ë¹„êµ â†’ ì¼ì¹˜ ì‹œ ì„¸ì…˜ ì €ì¥ |
| ê¸°ìˆ  | JSP, Servlet, DAO, Session, Redirect |

---

## âœ… 2. ì „ì²´ íë¦„ë„

```
[1] login.jsp â†’ ì‚¬ìš©ì ID/PW ì…ë ¥
 â¬‡
[2] LoginServlet â†’ DBì™€ ë¹„êµ
 â¬‡
[3] ì„±ê³µ: ì„¸ì…˜ì— ID ì €ì¥ â†’ list.jsp ë¦¬ë””ë ‰ì…˜
[4] ì‹¤íŒ¨: alert í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
```

---

## âœ… 3. ë‹¨ê³„ë³„ ì—­í•  ì •ë¦¬

| ë‹¨ê³„ | íŒŒì¼ | ì„¤ëª… |
| --- | --- | --- |
| 1 | login.jsp | ì‚¬ìš©ì ID/PW ì…ë ¥ í™”ë©´ (View) |
| 2 | LoginServlet.java | ì…ë ¥ê°’ì„ DAOì— ì „ë‹¬ â†’ DB ë¹„êµ (Controller) |
| 3 | MemberDAO.java | ID/PW ì¡°íšŒ â†’ boolean ë°˜í™˜ (Model) |
| 4 | list.jsp ë“± | ë¡œê·¸ì¸ í›„ ì ‘ê·¼ ê°€ëŠ¥í•œ í˜ì´ì§€ |
| 5 | logout.jsp | ì„¸ì…˜ ì´ˆê¸°í™” í›„ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ |

---

## âœ… 4. ì „ì²´ ì˜ˆì œ ì½”ë“œ ğŸ¯

---

### ğŸ“„ [1] login.jsp

```
<form action="login" method="post">
  ì•„ì´ë””: <input type="text" name="userid" /><br />
  ë¹„ë°€ë²ˆí˜¸: <input type="password" name="userpw" /><br />
  <input type="submit" value="ë¡œê·¸ì¸" />
</form>
```

---

### ğŸ“„ [2] LoginServlet.java

```java
@WebServlet("/login")
public class LoginServlet extends HttpServlet {
  protected void doPost(HttpServletRequest req, HttpServletResponse resp)
      throws ServletException, IOException {

    req.setCharacterEncoding("UTF-8");
    String userid = req.getParameter("userid");
    String userpw = req.getParameter("userpw");

    MemberDAO dao = new MemberDAO();
    boolean isValid = dao.login(userid, userpw);

    if (isValid) {
      // ì„¸ì…˜ì— ë¡œê·¸ì¸ ì •ë³´ ì €ì¥
      HttpSession session = req.getSession();
      session.setAttribute("loginId", userid);
      resp.sendRedirect("list.jsp");
    } else {
      resp.setContentType("text/html;charset=UTF-8");
      PrintWriter out = resp.getWriter();
      out.println("<script>");
      out.println("alert('ë¡œê·¸ì¸ ì‹¤íŒ¨! ì•„ì´ë”” ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ í™•ì¸');");
      out.println("location.href='login.jsp';");
      out.println("</script>");
    }
  }
}
```

---

### ğŸ“„ [3] MemberDAO.java â€“ ë¡œê·¸ì¸ ì²´í¬ ë©”ì„œë“œ

```java
public boolean login(String userid, String userpw) {
  boolean result = false;
  try {
    Connection conn = DB.getConnection();
    String sql = "SELECT * FROM members WHERE userid=? AND userpw=?";
    PreparedStatement ps = conn.prepareStatement(sql);
    ps.setString(1, userid);
    ps.setString(2, userpw);
    ResultSet rs = ps.executeQuery();
    result = rs.next(); // ê²°ê³¼ê°€ ìˆìœ¼ë©´ ë¡œê·¸ì¸ ì„±ê³µ
    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }
  return result;
}
```

---

## âœ… 5. ë¡œê·¸ì¸ ì„±ê³µ/ì‹¤íŒ¨ ì²˜ë¦¬

| ìƒí™© | ì²˜ë¦¬ ë°©ë²• |
| --- | --- |
| âœ… ì„±ê³µ | `session.setAttribute("loginId", userid)` â†’ ë©”ì¸í˜ì´ì§€ ë¦¬ë””ë ‰ì…˜ |
| âŒ ì‹¤íŒ¨ | `alert()` í›„ `location.href='login.jsp'` |

---

## âœ… 6. ì„¸ì…˜ ìœ ì§€ / ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬

---

### ğŸ“„ list.jsp (ë¡œê·¸ì¸ í›„ í˜ì´ì§€)

```
<%
  String id = (String) session.getAttribute("loginId");
  if (id == null) {
%>
  <script>
    alert("ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.");
    location.href = "login.jsp";
  </script>
<%
  return;
  }
%>
<h3><%= id %>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!</h3>
<a href="logout.jsp">ë¡œê·¸ì•„ì›ƒ</a>
```

---

### ğŸ“„ logout.jsp

```
<%
  session.invalidate(); // ì„¸ì…˜ ì´ˆê¸°í™”
  response.sendRedirect("login.jsp");
%>
```

---

## âœ… 7. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½ ğŸ’¬

| ì§ˆë¬¸ | ìš”ì  ì •ë¦¬ |
| --- | --- |
| ë¡œê·¸ì¸ ì²˜ë¦¬ íë¦„ì€? | ì…ë ¥ê°’ â†’ DAO â†’ DB ë¹„êµ â†’ ì„¸ì…˜ ì €ì¥ or ì‹¤íŒ¨ ì²˜ë¦¬ |
| ì„¸ì…˜ì´ë€? | ì„œë²„ì— ì €ì¥ë˜ëŠ” ì‚¬ìš©ìë³„ ìƒíƒœê°’ ì €ì¥ì†Œ |
| ì„¸ì…˜ ì €ì¥ ë°©ë²•ì€? | `session.setAttribute("í‚¤", ê°’)` |
| ë¡œê·¸ì•„ì›ƒ ë°©ë²•ì€? | `session.invalidate()` ì‚¬ìš© |
| ë¡œê·¸ì¸ ì²´í¬ ì—†ì´ í˜ì´ì§€ ì ‘ê·¼í•˜ë©´? | `session.getAttribute()`ë¡œ null ì²´í¬ í›„ ë¦¬ë””ë ‰ì…˜ |

---

## âœ… 8. ë§ˆë¬´ë¦¬ ìš”ì•½ ğŸ§ 

- ğŸ” ë¡œê·¸ì¸ ì„±ê³µ ì‹œ ì„¸ì…˜ì— ID ì €ì¥ (`session.setAttribute`)
- ğŸšª ë¡œê·¸ì•„ì›ƒì€ ì„¸ì…˜ ì´ˆê¸°í™” (`invalidate`)
- ğŸš« ë¡œê·¸ì¸ ì•ˆ ëœ ì‚¬ìš©ìëŠ” í˜ì´ì§€ ì§„ì… ì°¨ë‹¨í•´ì•¼ í•¨
- âœ… JSP + Servlet + DAO + Session ì—°ë™ìœ¼ë¡œ MVC êµ¬ì¡° ì™„ì„±ë¨
