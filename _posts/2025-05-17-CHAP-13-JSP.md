---
layout: post
title: "CHAP 2-7. ë°ì´í„° ì €ì¥ íë¦„ êµ¬í˜„"
date: 2025-05-17
categories: [backend, language, jsp]
tags: [backend, language, jsp]
thumbnail: /assets/img/post-thumbnails/intro13.png
author: Devchanny
---


# ** ğŸ“Œë°ì´í„° ì €ì¥ íë¦„ êµ¬í˜„ (JSP â†’ Servlet â†’ DAO â†’ DB)** 

> ì‚¬ìš©ì ì…ë ¥ ë°ì´í„°ë¥¼ JSPì—ì„œ ë°›ì•„ DBì— ì €ì¥í•˜ëŠ” ì „ì²´ ì‹¤ë¬´ íë¦„
> 
> 
> êµ¬ì¡°ë„ + ë‹¨ê³„ë³„ ì—­í•  + ì „ì²´ ì½”ë“œ + ë©´ì ‘ ëŒ€ë¹„ê¹Œì§€ ì™„ì „ ì •ë¦¬
> 

---

## ğŸ§© ëª©ì°¨

1. ì „ì²´ íë¦„ ê°œìš”
2. ë‹¨ê³„ë³„ ì—­í•  (JSP â†’ Servlet â†’ DTO â†’ DAO â†’ DB)
3. ì „ì²´ íë¦„ ì˜ˆì œ ì½”ë“œ
4. ì‹¤ì œ ì‹¤í–‰ íë¦„ ìˆœì„œ
5. ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ & í•´ê²°ë²•
6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½
7. ë§ˆë¬´ë¦¬ ìš”ì•½ + Notion ì‘ì„± íŒ

---

## âœ… 1. ì „ì²´ íë¦„ ê°œìš”

```
[1] form.jsp
 â¬‡ ì‚¬ìš©ì ì…ë ¥
[2] SaveServlet.java
 â¬‡ íŒŒë¼ë¯¸í„° â†’ DTO ì €ì¥
[3] BoardDTO.java
 â¬‡ ë°ì´í„° ìº¡ìŠí™”
[4] BoardDAO.java
 â¬‡ insert()ë¡œ DB ì €ì¥
[5] MariaDB
 â¬† ë°ì´í„° ì €ì¥ ì™„ë£Œ
[6] ê²°ê³¼ í™”ë©´ (ë¦¬ë””ë ‰íŠ¸ or ë©”ì‹œì§€ ì¶œë ¥)
```

---

## âœ… 2. ë‹¨ê³„ë³„ ì—­í•  ì •ë¦¬

| ë‹¨ê³„ | íŒŒì¼ | ì—­í•  |
| --- | --- | --- |
| 1 | `form.jsp` | ì‚¬ìš©ìë¡œë¶€í„° ì…ë ¥ ë°›ê¸° (View) |
| 2 | `SaveServlet.java` | ì…ë ¥ê°’ ì²˜ë¦¬ + DTO ì „ë‹¬ (Controller) |
| 3 | `BoardDTO.java` | ì…ë ¥ ë°ì´í„°ë¥¼ ë‹´ëŠ” í´ë˜ìŠ¤ (Model) |
| 4 | `BoardDAO.java` | DB ì €ì¥ ë©”ì„œë“œ êµ¬í˜„ (Model) |
| 5 | MariaDB | ì‹¤ì œ ë°ì´í„° ì €ì¥ì†Œ (DB) |

---

## âœ… 3. ì „ì²´ íë¦„ ì˜ˆì œ ì½”ë“œ ğŸ¯

---

### ğŸ“„ [1] form.jsp (ì‚¬ìš©ì ì…ë ¥ í™”ë©´)

```html
<form action="save" method="post">
  ì œëª©: <input type="text" name="title"><br>
  ë‚´ìš©: <textarea name="content"></textarea><br>
  <input type="submit" value="ì €ì¥">
</form>
```

---

### ğŸ“„ [2] SaveServlet.java (ì…ë ¥ ì²˜ë¦¬ + DAO í˜¸ì¶œ)

```java
@WebServlet("/save")
public class SaveServlet extends HttpServlet {
  protected void doPost(HttpServletRequest req, HttpServletResponse resp)
      throws ServletException, IOException {

    req.setCharacterEncoding("UTF-8");

    // 1. ì‚¬ìš©ì ì…ë ¥ê°’ ë°›ê¸°
    String title = req.getParameter("title");
    String content = req.getParameter("content");

    // 2. DTOì— ì €ì¥
    BoardDTO dto = new BoardDTO();
    dto.setTitle(title);
    dto.setContent(content);

    // 3. DAOì— ì „ë‹¬í•˜ì—¬ DB ì €ì¥
    BoardDAO dao = new BoardDAO();
    dao.insert(dto);

    // 4. ì €ì¥ í›„ ëª©ë¡ í˜ì´ì§€ë¡œ ì´ë™
    resp.sendRedirect("list.jsp");
  }
}
```

---

### ğŸ“„ [3] BoardDTO.java (ë°ì´í„° ê°ì²´)

```java
public class BoardDTO {
  private String title;
  private String content;

  public String getTitle() {
    return title;
  }

  public void setTitle(String title) {
    this.title = title;
  }

  public String getContent() {
    return content;
  }

  public void setContent(String content) {
    this.content = content;
  }
}
```

---

### ğŸ“„ [4] BoardDAO.java (DB ì €ì¥ ì²˜ë¦¬)

```java
public class BoardDAO {
  public void insert(BoardDTO dto) {
    try {
      Connection conn = DB.getConnection();
      String sql = "INSERT INTO board(title, content) VALUES (?, ?)";
      PreparedStatement ps = conn.prepareStatement(sql);
      ps.setString(1, dto.getTitle());
      ps.setString(2, dto.getContent());
      ps.executeUpdate();
      conn.close();
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}
```

---

### ğŸ“„ [5] DB.java (DB ì—°ê²° ì „ìš© í´ë˜ìŠ¤)

```java
public class DB {
  public static Connection getConnection() throws Exception {
    Class.forName("org.mariadb.jdbc.Driver");
    return DriverManager.getConnection(
      "jdbc:mariadb://localhost:3306/mydb", "myuser", "mypassword"
    );
  }
}
```

---

## âœ… 4. ì‹¤í–‰ íë¦„ ìˆœì„œ ìš”ì•½

```
1. ì‚¬ìš©ìê°€ form.jspì—ì„œ ì œëª©/ë‚´ìš© ì…ë ¥ â†’ ì „ì†¡
2. SaveServletì—ì„œ íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ DTOì— ì €ì¥
3. DAOì˜ insert(dto) í˜¸ì¶œ â†’ SQL ì‹¤í–‰
4. DBì— ê²Œì‹œê¸€ ì €ì¥
5. ì‚¬ìš©ìëŠ” list.jsp ë˜ëŠ” ì™„ë£Œ í˜ì´ì§€ë¡œ ì´ë™
```

---

## âœ… 5. ìì£¼ ë°œìƒí•˜ëŠ” ì˜¤ë¥˜ & í•´ê²°ë²• ğŸ›¡ï¸

| ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
| --- | --- | --- |
| `NullPointerException` | request ê°’ì´ null | `name` ì†ì„± ëˆ„ë½ or ì˜¤íƒ€ í™•ì¸ |
| `SQLException` | DB ì—°ê²°/SQL ì˜¤ë¥˜ | DB URL, ê³„ì •, SQL êµ¬ë¬¸ í™•ì¸ |
| `404 Not Found` | URL ë§¤í•‘ ì˜¤ë¥˜ | `@WebServlet("/save")`ì™€ form action ì¼ì¹˜ í™•ì¸ |
| í•œê¸€ ê¹¨ì§ | ì¸ì½”ë”© ì„¤ì • ëˆ„ë½ | `request.setCharacterEncoding("UTF-8")` í•„ìˆ˜! |

---

## âœ… 6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½ ğŸ’¬

| ì§ˆë¬¸ | ìš”ì  ì •ë¦¬ |
| --- | --- |
| JSP â†’ DB ì €ì¥ íë¦„ì€? | JSP(form) â†’ Servlet â†’ DTO â†’ DAO â†’ DB |
| DTOì˜ ì—­í• ì€? | ì…ë ¥ê°’ì„ ê°ì²´ë¡œ ì €ì¥ (ë°ì´í„° ìº¡ìŠí™”) |
| DAOì˜ ì—­í• ì€? | DB ì—°ê²° í›„ SQL ì‹¤í–‰ (insert, select ë“±) |
| MVCì—ì„œ Servletì€ ì–´ë–¤ ì—­í• ? | Controller (ìš”ì²­ ì²˜ë¦¬, íë¦„ ì œì–´) |
| SQL Injection ë°©ì§€ëŠ”? | `PreparedStatement` ì‚¬ìš© (ë¬¼ìŒí‘œ ë°”ì¸ë”©) |

---

## âœ… 7. ë§ˆë¬´ë¦¬ ìš”ì•½ ğŸ§ 

- ğŸ“¤ ì‚¬ìš©ìì˜ ì…ë ¥ê°’ì€ `form â†’ Servlet â†’ DTO`ë¡œ ì „ë‹¬ë¨
- ğŸ“¦ `DTO`ëŠ” ë°ì´í„°ë¥¼ ë‹´ê³ , `DAO`ëŠ” DB ì²˜ë¦¬ ë‹´ë‹¹
- ğŸ§  ëª¨ë“  íë¦„ì€ **ì—­í•  ë¶„ë¦¬(MVC êµ¬ì¡°)** ë¡œ ì„¤ê³„ë˜ì–´ì•¼ ìœ ì§€ë³´ìˆ˜ì™€ í™•ì¥ì´ ì‰¬ì›€
- âœ… í•œ ë²ˆ ì €ì¥ íë¦„ì„ ìµíˆë©´, ìˆ˜ì •/ì‚­ì œë„ ìœ ì‚¬ êµ¬ì¡°ë¡œ í™•ì¥ ê°€ëŠ¥!


