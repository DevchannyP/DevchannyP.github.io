---
layout: post
title: "CHAP 2-4. DAO ì„¤ê³„"
date: 2025-05-17
categories: [backend, language, jsp]
tags: [backend, language, jsp]
thumbnail: /assets/img/post-thumbnails/intro10.png
author: Devchanny
---


# ** ğŸ“ŒDAO ì„¤ê³„ (DB ì ‘ê·¼ ë¡œì§ êµ¬í˜„)  ** 

> DBì— ì•ˆì „í•˜ê³  íš¨ìœ¨ì ìœ¼ë¡œ ì ‘ê·¼í•˜ëŠ” DAO êµ¬ì¡° ì •ë¦¬
> 
> 
> `insert`, `select` ë©”ì„œë“œ êµ¬í˜„ ì˜ˆì œ + ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ê¹Œì§€
> 

---

## ğŸ§© ëª©ì°¨

1. DAOë€ ë¬´ì—‡ì¸ê°€?
2. DAOì˜ ì—­í• ê³¼ ì¥ì 
3. DAO í´ë˜ìŠ¤ ê¸°ë³¸ êµ¬ì¡°
4. ì‹¤ì „ íë¦„ë„ (Servlet â†’ DTO â†’ DAO â†’ DB)
5. ì˜ˆì œ ì½”ë“œ (insert & select)
6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½
7. ë§ˆë¬´ë¦¬ ìš”ì•½ + Notion ì‘ì„± íŒ

---

## âœ… 1. DAOë€?

| í•­ëª© | ì„¤ëª… |
| --- | --- |
| DAO (Data Access Object) | **DBì™€ ì§ì ‘ ì—°ê²°ë˜ì–´ ë°ì´í„°ë¥¼ CRUD ì²˜ë¦¬**í•˜ëŠ” í´ë˜ìŠ¤ |
| ìœ„ì¹˜ | Model ê³„ì¸µì— í¬í•¨ (MVC êµ¬ì¡°ì˜ M ë¶€ë¶„) |
| íŠ¹ì§• | SQLì„ ì‹¤í–‰í•˜ê³  ê²°ê³¼ë¥¼ ì²˜ë¦¬í•˜ëŠ” ì „ìš© í´ë˜ìŠ¤ |

---

## âœ… 2. DAOì˜ ì—­í• ê³¼ ì¥ì 

| ì—­í•  | ì„¤ëª… |
| --- | --- |
| ğŸ¯ DB ì ‘ê·¼ ì „ë‹´ | DB ì—°ê²°, SQL ì‹¤í–‰, ê²°ê³¼ ì²˜ë¦¬ |
| ğŸ”„ DTOì™€ ì—°ë™ | ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸° ìœ„í•´ DTO ì‚¬ìš© |
| ğŸ“¦ ì¬ì‚¬ìš© ê°€ëŠ¥ | DAO í•˜ë‚˜ë¡œ insert, select, update, delete ê´€ë¦¬ ê°€ëŠ¥ |
| ğŸ§¼ ì½”ë“œ ë¶„ë¦¬ | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§(Controller)ê³¼ DB ë¡œì§ì„ ë¶„ë¦¬í•¨ìœ¼ë¡œì¨ ìœ ì§€ë³´ìˆ˜ ìš©ì´ |

---

## âœ… 3. DAO í´ë˜ìŠ¤ ê¸°ë³¸ êµ¬ì¡° âœï¸

```java
public class MemberDAO {

  // DB ì €ì¥
  public void insert(MemberDTO dto) {
    // Connection â†’ SQL â†’ execute
  }

  // DB ì¡°íšŒ
  public List<MemberDTO> selectAll() {
    // SQL â†’ ResultSet â†’ DTO ë¦¬ìŠ¤íŠ¸ë¡œ ë°˜í™˜
  }
}
```

---

## âœ… 4. ì‹¤ì „ íë¦„ ì˜ˆì‹œ ğŸ¯

```
[form.jsp]
 â¬‡ï¸ ì‚¬ìš©ì ì…ë ¥
[Servlet]
 â¬‡ï¸ ì…ë ¥ê°’ â†’ DTO ì €ì¥
[DAO]
 â¬‡ï¸ insert(dto)
[DB]
 â¬†ï¸ selectAll() â†’ DTO ëª©ë¡ ë°˜í™˜
[Servlet â†’ JSP]
 â¬†ï¸ í™”ë©´ì— ì¶œë ¥
```

---

## âœ… 5. ì˜ˆì œ ì½”ë“œ (íšŒì› ë“±ë¡ + ì „ì²´ ëª©ë¡ ì¡°íšŒ)

---

### ğŸ“Œ insert êµ¬í˜„ (íšŒì› ë“±ë¡)

```java
public void insert(MemberDTO dto) {
  try {
    Connection conn = DB.getConnection();
    String sql = "INSERT INTO members(name, email) VALUES (?, ?)";
    PreparedStatement ps = conn.prepareStatement(sql);
    ps.setString(1, dto.getName());
    ps.setString(2, dto.getEmail());
    ps.executeUpdate();
    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }
}
```

---

### ğŸ“Œ selectAll êµ¬í˜„ (íšŒì› ì „ì²´ ëª©ë¡)

```java
public List<MemberDTO> selectAll() {
  List<MemberDTO> list = new ArrayList<>();

  try {
    Connection conn = DB.getConnection();
    String sql = "SELECT * FROM members ORDER BY id DESC";
    PreparedStatement ps = conn.prepareStatement(sql);
    ResultSet rs = ps.executeQuery();

    while(rs.next()) {
      MemberDTO dto = new MemberDTO();
      dto.setId(rs.getInt("id"));
      dto.setName(rs.getString("name"));
      dto.setEmail(rs.getString("email"));
      list.add(dto);
    }

    conn.close();
  } catch(Exception e) {
    e.printStackTrace();
  }

  return list;
}
```

---

### ğŸ“Œ DBConnection í´ë˜ìŠ¤ ì˜ˆì‹œ (ê³µí†µ ì—°ê²° í´ë˜ìŠ¤)

```java
public class DB {
  public static Connection getConnection() throws Exception {
    Class.forName("org.mariadb.jdbc.Driver");
    return DriverManager.getConnection(
      "jdbc:mariadb://localhost:3306/dbname", "user", "password"
    );
  }
}
```

---

## âœ… 6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½

| ì§ˆë¬¸ | ìš”ì  ì •ë¦¬ |
| --- | --- |
| DAOë€ ë¬´ì—‡ì¸ê°€ìš”? | DB ì‘ì—…(insert, select ë“±)ì„ ë‹´ë‹¹í•˜ëŠ” í´ë˜ìŠ¤ |
| DTOì™€ DAO ì°¨ì´ëŠ”? | DTOëŠ” ë°ì´í„°ë¥¼ ë‹´ëŠ” ê°ì²´, DAOëŠ” DB ì²˜ë¦¬ ë¡œì§ ë‹´ë‹¹ |
| DAOì˜ ì¥ì ì€? | ì½”ë“œ ë¶„ë¦¬, ì¬ì‚¬ìš©ì„± â†‘, MVC íŒ¨í„´ì˜ Model ê³„ì¸µ êµ¬ì„± |
| select ê²°ê³¼ë¥¼ ì–´ë–»ê²Œ JSPì— ë„˜ê¸°ë‚˜ìš”? | DAOì—ì„œ List<DTO> ë°˜í™˜ â†’ Servletì—ì„œ requestì— ì €ì¥ â†’ JSPì—ì„œ ì¶œë ¥ |

---

## âœ… 7. ë§ˆë¬´ë¦¬ ìš”ì•½ ğŸ§ 

- ğŸ’¡ **DAO = DB ì ‘ê·¼ ë‹´ë‹¹ í´ë˜ìŠ¤**
- ğŸ”— DAOëŠ” DTOì™€ í•¨ê»˜ ë™ì‘í•˜ë©°, SQLì„ ì‹¤í–‰í•¨
- âš™ insert, select, update, delete ëª¨ë‘ ì´ê³³ì— êµ¬í˜„
- âœ… ì‹¤ì „ì—ì„œ DAOëŠ” **Controllerì™€ DB ì‚¬ì´ì˜ ë‹¤ë¦¬ ì—­í• **
