---
layout: post
title: "CHAP 16. MariaDB와 NoSQL 비교 및 확장성 "
date: 2025-03-16
categories: [backend, language, sql]
tags: [Database, SQL]
thumbnail: /assets/img/post-thumbnails/intro16.png
author: Devchanny
---

# 📌 1️⃣ MariaDB에서 JSON 데이터 처리**

### 📌 **기본 개념**

MariaDB는 전통적인 **관계형 데이터베이스(RDBMS)**이지만, **비정형 데이터 처리의 유연성 확보**를 위해 **JSON 데이터 타입**과 관련 함수들을 지원함.

---

### 🎯 **주요 기능**

| 기능 | 설명 | 예시 | 실무 팁 |
| --- | --- | --- | --- |
| **JSON 데이터 타입 지원** | JSON 형식 데이터를 저장 (MariaDB 10.2 이상) | JSON 컬럼 타입 | JSON Validation 없음 → 잘못된 구조 입력 주의 |
| **JSON 함수 제공** | JSON 내부 데이터 조회 및 수정 | `JSON_EXTRACT()`, `JSON_SET()` | **함수 연산 비용 높음 → 자주 사용하는 필드는 가상 컬럼 추천** |
| **Full-Text Index + JSON** | JSON 내부 문자열 검색 최적화 | 로그 데이터 검색 | **단, 전체 JSON Index 불가능, 부분 검색에 한정됨** |
| **Virtual Column + Index** | JSON 특정 키를 가상 컬럼화 후 인덱싱 | 검색 성능 극대화 | 변경 시, Virtual Column 동기화 주의 |

---

### 🎬 **비유 보강: 전통 서류함 + 전자문서 시스템**

- **MariaDB**는 서류함처럼 **엄격한 칸막이 서식(정형화된 테이블)** 관리.
- **JSON**은 자유롭게 **붙임파일로 오는 전자문서 폴더**.
- 자주 보는 정보는 **책갈피(Virtual Column + Index)** 꽂아두고 빠르게 찾아보기.

---

---

## ⚔️ **2️⃣ MariaDB vs NoSQL(MongoDB, Redis) 비교**

### 📌 **비교 표 보강**

| 항목 | **MariaDB** | **MongoDB** | **Redis** |
| --- | --- | --- | --- |
| **데이터 모델** | 관계형 (Row & Column) + JSON 지원 | 문서 지향 (BSON 기반, JSON 유사) | Key-Value (메모리 기반) |
| **스키마** | 고정 스키마 + JSON으로 일부 유연성 | 스키마리스, 필드 자유 | 스키마 없음 |
| **ACID 보장** | **완벽 지원** | **최근 ACID 지원 강화** (멀티-도큐먼트 트랜잭션) | 트랜잭션은 단순 MULTI/EXEC (부분적 보장) |
| **확장성** | **수직 확장 (Scale-up)** → 주로 서버 스펙 올림Galera 클러스터 통한 수평 확장 가능 | **수평 확장 (Sharding 기본)**대규모 분산 환경에 적합 | **수평 확장 (Cluster 지원)** |
| **주요 활용** | 전통 트랜잭션, 금융, ERP, 복잡한 조인 | 콘텐츠, 로그, 비정형 대용량 데이터 | 캐시, 세션, 실시간 처리 |
| **장점** | SQL 친숙성, 복잡 트랜잭션 처리 가능 | 유연 스키마, 대규모 분산 | 초고속 in-memory 처리 |
| **단점** | 스키마 변경 불편, 수평 확장 한계 | 조인 복잡, 관계형 연산 약함 | 영속성 약함, 복잡 데이터 부적합 |

---

### **오해 정리:**

- **MariaDB도 수평 확장(Scale-out)이 불가능한 건 아님.** → **Galera Cluster, Spider Storage Engine, 샤딩 아키텍처 가능.**
단, **NoSQL처럼 기본 내장된 Sharding 기능은 아님. 관리 복잡도 ↑**
- MongoDB도 최근엔 **트랜잭션 일부 지원 (4.0 이후)** → 단, **복잡한 관계형 연산은 여전히 불리.**

---

### 🎬 **비유 보강: 데이터 관리 센터**

| 역할 | 비유 | 설명 |
| --- | --- | --- |
| **MariaDB** | **정해진 서식, 엄격한 공문서 관리 사무소** | 계약서, 재무서류, 규격화된 문서에 강함 |
| **MongoDB** | **민원 접수 센터**: 어떤 서류든, 어떤 양식이든 OK | 콘텐츠, 로그, 다양한 문서 자유롭게 수용 |
| **Redis** | **포스트잇 메모 담당, 안내문 게시판** | 빠른 확인 필요할 때, 정보는 일시적 (캐시, 세션) |

---

---

## 🔗 **3️⃣ 하이브리드 데이터베이스 활용 방안**

### 📌 **왜 하이브리드?**

**한 가지 DB로 모든 요구 충족 불가!**

- 정형 → MariaDB
- 비정형 → MongoDB
- 초고속/빈번 조회 → Redis

---

### 🏗️ **실제 구성 전략 보강**

| 구성 | 설명 | 활용 예시 | 주의점 |
| --- | --- | --- | --- |
| **MariaDB + Redis** | 영속 데이터 보관 + 캐시로 조회 속도 향상 | 상품 정보 캐시, 로그인 세션 | 캐시 일관성 문제, TTL 설정 |
| **MariaDB + MongoDB** | 트랜잭션은 MariaDB, 콘텐츠/로그는 MongoDB | ERP + 비정형 로그 시스템 | 데이터 중복 관리 주의 |
| **MariaDB + Redis + MongoDB** | 트랜잭션, 캐시, 로그 모두 최적화 | 대규모 플랫폼 서비스 | 데이터 동기화 전략 필요 |

---

### 🎬 **비유 보강: 종합 행정 센터**

- **MariaDB = 본관**: 법적 문서, 주민등록, 재정 관련 서류 담당 (정확성, 일관성)
- **MongoDB = 민원창구**: 다양한 서식의 자유서류, 민원 내용 자유롭게 접수
- **Redis = 입구 안내 게시판**: 오늘 점심, 긴급 안내문, 바로 확인 필요 정보 제공 (단기 보관)

---

---

## 📝 **🔖 정리**

---

# 🔄 MariaDB와 NoSQL 비교 & 확장성

---

### 📦 **1. MariaDB의 JSON 데이터 처리**

- ✅ JSON 데이터 타입 & 유연 저장
- ✅ JSON 함수로 내부 데이터 파싱/수정
- ✅ Virtual Column + Index → 성능 향상
- ✅ 주의: JSON Validation 없음 → 데이터 구조 관리 필요
- 🎬 **서류함 + 전자문서 관리 시스템 비유**

---

### ⚔️ **2. MariaDB vs MongoDB vs Redis**

| DB | 특징 | 활용 |
| --- | --- | --- |
| **MariaDB** | 관계형, ACID 강점, JOIN/트랜잭션 | 금융, ERP, 정형 데이터 |
| **MongoDB** | 스키마리스, 비정형 데이터 처리 | 로그, 콘텐츠, 대규모 분산 |
| **Redis** | Key-Value, 인메모리 초고속 처리 | 캐시, 세션, 실시간 처리 |
| 🎬 **공문서 관리, 민원 창구, 안내문 게시판 비유** |  |  |

---

### 🔗 **3. 하이브리드 DB 활용 방안**

- ✅ MariaDB + Redis → 캐시 성능 향상
- ✅ MariaDB + MongoDB → 정형 & 비정형 데이터 분리
- ✅ 종합 시스템: MariaDB + Redis + MongoDB 조합
- ✅ 데이터 일관성, 동기화 정책 명확히
- 🎬 **종합 행정 센터 비유**
