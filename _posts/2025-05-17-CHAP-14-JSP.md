---
layout: post
title: "CHAP 2-8. ë°ì´í„° ì¶œë ¥ íë¦„ êµ¬í˜„"
date: 2025-05-17
categories: [backend, language, jsp]
tags: [backend, language, jsp]
thumbnail: /assets/img/post-thumbnails/intro14.png
author: Devchanny
---


# ** ğŸ“Œë°ì´í„° ì¶œë ¥ íë¦„ êµ¬í˜„ (DB â†’ DAO â†’ JSP ì¶œë ¥)**

> DBì— ì €ì¥ëœ ë°ì´í„°ë¥¼ ì‚¬ìš©ì í™”ë©´ì— ì¶œë ¥í•˜ëŠ” ì‹¤ì „ íë¦„ ì™„ì„±
> 
> 
> DAOë¡œ DB ì¡°íšŒ â†’ DTOë¡œ ì €ì¥ â†’ JSPì—ì„œ ë°˜ë³µë¬¸ìœ¼ë¡œ ì¶œë ¥ê¹Œì§€ ì™„ì „ ì •ë¦¬
> 

---

## ğŸ§© ëª©ì°¨

1. ì „ì²´ íë¦„ ê°œìš”
2. ë‹¨ê³„ë³„ ì—­í•  (DAO â†’ DTO â†’ Servlet â†’ JSP)
3. ì „ì²´ ì˜ˆì œ ì½”ë“œ
4. JSPì—ì„œ ë°˜ë³µë¬¸ìœ¼ë¡œ ì¶œë ¥í•˜ê¸°
5. ì¶œë ¥ íë¦„ ìˆœì„œ ì •ë¦¬
6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ ìš”ì•½
7. ë§ˆë¬´ë¦¬ ìš”ì•½ + Notion ì‘ì„± íŒ

---

## âœ… 1. ì „ì²´ íë¦„ ê°œìš”

```
[1] BoardDAO
 â¬‡ DBì—ì„œ ë°ì´í„° ì¡°íšŒ (SELECT)
[2] BoardDTO
 â¬‡ ê° í–‰ì„ ê°ì²´ë¡œ ì €ì¥
[3] ListServlet
 â¬‡ List<BoardDTO>ë¥¼ requestì— ì €ì¥
[4] list.jsp
 â¬† requestì—ì„œ êº¼ë‚´ ë°˜ë³µ ì¶œë ¥
```

---

## âœ… 2. ë‹¨ê³„ë³„ ì—­í•  ì •ë¦¬

| ë‹¨ê³„ | íŒŒì¼ | ì—­í•  |
| --- | --- | --- |
| 1 | `BoardDAO.java` | DBë¡œë¶€í„° ë°ì´í„° ì „ì²´ ì¡°íšŒ (SELECT) |
| 2 | `BoardDTO.java` | ì¡°íšŒí•œ ë°ì´í„° í•˜ë‚˜í•˜ë‚˜ë¥¼ ë‹´ëŠ” ê°ì²´ |
| 3 | `ListServlet.java` | DAO í˜¸ì¶œ â†’ List<DTO> requestì— ì €ì¥ |
| 4 | `list.jsp` | requestì—ì„œ êº¼ë‚¸ Listë¥¼ forEachë¡œ ë°˜ë³µ ì¶œë ¥ |

---

## âœ… 3. ì „ì²´ ì˜ˆì œ ì½”ë“œ ğŸ¯

---

### ğŸ“„ [1] BoardDAO.java - selectAll ë©”ì„œë“œ

```java
public class BoardDAO {
  public List<BoardDTO> selectAll() {
    List<BoardDTO> list = new ArrayList<>();
    try {
      Connection conn = DB.getConnection();
      String sql = "SELECT * FROM board ORDER BY id DESC";
      PreparedStatement ps = conn.prepareStatement(sql);
      ResultSet rs = ps.executeQuery();

      while (rs.next()) {
        BoardDTO dto = new BoardDTO();
        dto.setId(rs.getInt("id"));
        dto.setTitle(rs.getString("title"));
        dto.setContent(rs.getString("content"));
        dto.setRegdate(rs.getTimestamp("regdate"));
        list.add(dto);
      }

      conn.close();
    } catch (Exception e) {
      e.printStackTrace();
    }

    return list;
  }
}
```

---

### ğŸ“„ [2] BoardDTO.java

```java
public class BoardDTO {
  private int id;
  private String title;
  private String content;
  private Timestamp regdate;

  // getter & setter ìƒëµ
}
```

---

### ğŸ“„ [3] ListServlet.java

```java
@WebServlet("/list")
public class ListServlet extends HttpServlet {
  protected void doGet(HttpServletRequest request, HttpServletResponse response)
      throws ServletException, IOException {

    BoardDAO dao = new BoardDAO();
    List<BoardDTO> list = dao.selectAll();

    request.setAttribute("list", list);
    RequestDispatcher rd = request.getRequestDispatcher("list.jsp");
    rd.forward(request, response);
  }
}
```

---

### ğŸ“„ [4] list.jsp - ì¶œë ¥ í™”ë©´

```
<%@ page contentType="text/html; charset=UTF-8" %>
<%@ page import="java.util.*, yourpackage.BoardDTO" %>
<%
  List<BoardDTO> list = (List<BoardDTO>) request.getAttribute("list");
%>

<h2>ê²Œì‹œê¸€ ëª©ë¡</h2>
<table border="1">
  <tr>
    <th>ë²ˆí˜¸</th>
    <th>ì œëª©</th>
    <th>ì‘ì„±ì¼</th>
  </tr>

<% for(BoardDTO dto : list) { %>
  <tr>
    <td><%= dto.getId() %></td>
    <td><%= dto.getTitle() %></td>
    <td><%= dto.getRegdate() %></td>
  </tr>
<% } %>
</table>
```

---

## âœ… 4. JSPì—ì„œ ë°˜ë³µë¬¸ìœ¼ë¡œ ì¶œë ¥í•˜ê¸°

| ë°©ì‹ | ì˜ˆì‹œ |
| --- | --- |
| ì¼ë°˜ for-each | `<% for(BoardDTO dto : list) { %>` |
| JSTL ì‚¬ìš© (ê³ ê¸‰) | `<c:forEach var="dto" items="${list}">` |

> ì´ˆê¸‰ìëŠ” ìŠ¤í¬ë¦½í‹€ë¦¿ ë°©ì‹ ë¨¼ì € ì‚¬ìš©í•˜ê³ , JSTLì€ 3ë‹¨ê³„ì—ì„œ í•™ìŠµí•˜ì„¸ìš” ğŸ˜Š
> 

---

## âœ… 5. ì¶œë ¥ íë¦„ ìˆœì„œ ìš”ì•½

```
1. DAOì—ì„œ DB â†’ List<DTO> ì¡°íšŒ
2. Servletì—ì„œ Listë¥¼ requestì— ì €ì¥
3. JSPì—ì„œ request.getAttribute()ë¡œ êº¼ëƒ„
4. forEachë¡œ í•˜ë‚˜ì”© ì¶œë ¥
```

---

## âœ… 6. ê¸°ìˆ  ë©´ì ‘ ëŒ€ë¹„ í•µì‹¬ ìš”ì•½ ğŸ’¬

| ì§ˆë¬¸ | ìš”ì  ì •ë¦¬ |
| --- | --- |
| ë°ì´í„°ë¥¼ í™”ë©´ì— ì¶œë ¥í•˜ëŠ” íë¦„ì€? | DAO â†’ DTO â†’ Servlet â†’ request â†’ JSP |
| ë°ì´í„° ì „ë‹¬ ë°©ë²•ì€? | `request.setAttribute("list", list)` ì‚¬ìš© |
| JSPì—ì„œ ë¦¬ìŠ¤íŠ¸ êº¼ë‚´ëŠ” ë°©ë²•ì€? | `request.getAttribute("list")`ë¡œ ë‹¤ìš´ìºìŠ¤íŒ… |
| ë°˜ë³µ ì¶œë ¥ì€ ì–´ë–»ê²Œ í•˜ë‚˜ìš”? | `forEach` ë¬¸ìœ¼ë¡œ DTO í•„ë“œ ì¶œë ¥ |

---

## âœ… 7. ë§ˆë¬´ë¦¬ ìš”ì•½ ğŸ§ 

- ğŸ“¦ DAOì—ì„œ `List<DTO>`ë¡œ ê²°ê³¼ë¥¼ ëª¨ìŒ
- ğŸ“¤ Servletì—ì„œ request.setAttributeë¡œ ì „ë‹¬
- ğŸ“‹ JSPì—ì„œ request.getAttributeë¡œ êº¼ëƒ„
- ğŸ” forEach ë¬¸ìœ¼ë¡œ ì¶œë ¥ (ìŠ¤í¬ë¦½í‹€ë¦¿ / JSTL ê°€ëŠ¥)
- âœ… ì¶œë ¥ì€ "í•œ ì¤„ = í•˜ë‚˜ì˜ DTO" ë¼ê³  ìƒê°í•˜ë©´ ì´í•´ ì‰¬ì›€!
